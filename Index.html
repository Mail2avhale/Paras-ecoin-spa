<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PARAS ECOIN - Login</title>
  <script src="https://www.gstatic.com/firebasejs/9.24.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.24.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.24.0/firebase-firestore-compat.js"></script>
</head>
<body>
  <h1>PARAS ECOIN</h1>
  <button id="loginBtn">Sign in with Google</button>
  <button id="logoutBtn" style="display: none;">Logout</button>
  <p id="userInfo"></p>

  <script>
    // Your Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyDl0DNM_U1_S0pWGybdKml08eb-CUzFc48",
      authDomain: "paras-ecoin-ccb85.firebaseapp.com",
      projectId: "paras-ecoin-ccb85",
      storageBucket: "paras-ecoin-ccb85.firebasestorage.app",
      messagingSenderId: "106833020083",
      appId: "1:106833020083:web:f43a025388e9e0c4201cc6"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    const loginBtn = document.getElementById("loginBtn");
    const logoutBtn = document.getElementById("logoutBtn");
    const userInfo = document.getElementById("userInfo");

    loginBtn.onclick = () => {
      const provider = new firebase.auth.GoogleAuthProvider();
      auth.signInWithPopup(provider)
        .then((result) => {
          const user = result.user;
          userInfo.innerText = `Welcome, ${user.displayName} (${user.email})`;
          loginBtn.style.display = "none";
          logoutBtn.style.display = "inline-block";
        })
        .catch((error) => {
          alert("Login failed: " + error.message);
        });
    };

    logoutBtn.onclick = () => {
      auth.signOut().then(() => {
        userInfo.innerText = "You are logged out.";
        loginBtn.style.display = "inline-block";
        logoutBtn.style.display = "none";
      });
    };

    // Auto detect login
    auth.onAuthStateChanged((user) => {
      if (user) {
        userInfo.innerText = `Welcome, ${user.displayName} (${user.email})`;
        loginBtn.style.display = "none";
        logoutBtn.style.display = "inline-block";
      } else {
        userInfo.innerText = "Please sign in.";
        loginBtn.style.display = "inline-block";
        logoutBtn.style.display = "none";
      }
    });
  </script>
</body>
</html>
